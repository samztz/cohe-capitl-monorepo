# ============================================
# Local Development Environment Configuration
# Cohe Capital Insurance Platform
# ============================================
#
# INSTRUCTIONS:
# 1. Copy this file to .env in the project root
#    cp .env.local.example .env
#
# 2. This configuration is optimized for LOCAL DEVELOPMENT
#    For production, use .env.production.example instead
#
# 3. Default values are safe for local development
#    No need to change unless you have port conflicts
#
# ============================================

# ============================================
# Docker & Infrastructure
# ============================================
NODE_VERSION=20-alpine

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=web3_insurance

# Database port (exposed to host for local development)
# To enable port mapping, uncomment the ports section in docker-compose.yml (line 48-49)
DB_PORT=5432

# Database connection string
DATABASE_URL=postgresql://postgres:postgres@db:5432/web3_insurance

# Database volume path (local development)
DB_DATA_PATH=./docker-volumes/db-data

# ============================================
# API Service (NestJS Backend)
# ============================================
API_PORT=3001
API_PREFIX=api

# JWT Authentication (development secrets - NOT for production!)
JWT_SECRET=local-dev-jwt-secret-change-in-production
JWT_EXPIRATION=15m
JWT_REFRESH_SECRET=local-dev-refresh-secret-change-in-production
JWT_REFRESH_EXPIRATION=7d

# SIWE (Sign-In with Ethereum) - Local development
SIWE_DOMAIN=localhost
SIWE_URI=http://localhost:3000

# Admin authentication token (development only)
ADMIN_TOKEN=demo-admin-token

# File storage
SIGNATURE_STORAGE_DIR=uploads/signatures

# CORS (allow all origins in local development)
CORS_ORIGIN=*

# Uploads volume path
UPLOADS_PATH=./docker-volumes/uploads

# ============================================
# Web Service (Next.js User Frontend)
# ============================================
WEB_PORT=3000

# API endpoint for browser (via nginx reverse proxy, same-domain)
NEXT_PUBLIC_API_BASE=/api

# WalletConnect/Reown AppKit Project ID
# Get your own free project ID from: https://cloud.reown.com/
# Variable name matches apps/web/src/config/appkit.ts
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID=your_project_id_here

# Blockchain configuration (BSC Testnet for development)
NEXT_PUBLIC_CHAIN_ID=97
NEXT_PUBLIC_CHAIN_NAME=BSC Testnet

# App metadata
NEXT_PUBLIC_APP_NAME=Cohe Capital
NEXT_PUBLIC_APP_DESCRIPTION=Web3 Insurance Platform

# ============================================
# Admin Service (Next.js Admin Panel)
# ============================================
ADMIN_PORT=3002

# API endpoint for admin (same-domain via nginx)
NEXT_PUBLIC_ADMIN_API_BASE=/api

# ============================================
# Nginx Reverse Proxy
# ============================================
NGINX_HTTP_PORT=80

# ============================================
# Blockchain RPC & Treasury (from original .env)
# ============================================

# BSC RPC endpoint for on-chain verification
RPC_BSC=https://bsc-dataseed.binance.org/

# Treasury wallet address for receiving payments
TREASURY_ADDRESS=0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199

# ============================================
# Local Development Notes
# ============================================
#
# Service URLs when running via Docker Compose:
# - Web:        http://localhost/ (via nginx)
# - Admin:      http://localhost/admin (via nginx)
# - API:        http://localhost/api (via nginx)
# - API Docs:   http://localhost/api-docs (via nginx)
#
# Direct service access (bypassing nginx):
# - Web:        http://localhost:3000
# - Admin:      http://localhost:3002
# - API:        http://localhost:3001
# - PostgreSQL: localhost:5432
#
# Database connection from host:
#   psql -h localhost -U postgres -d web3_insurance
#   Password: postgres
#
# ============================================
