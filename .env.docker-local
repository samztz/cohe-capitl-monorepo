# ============================================
# Docker 本地测试环境配置
# ============================================

# ============================================
# Docker & Infrastructure
# ============================================
NODE_VERSION=20-alpine

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=web3_insurance

# Database port (本地开发启用端口映射，方便使用 psql 等工具)
DB_PORT=5432

# Database connection string (Docker 内部网络使用 db 作为 host)
DATABASE_URL=postgresql://postgres:postgres@db:5432/web3_insurance

# Database volume path
DB_DATA_PATH=./docker-volumes/db-data

# ============================================
# API Service (NestJS Backend)
# ============================================
API_PORT=3001
API_PREFIX=api

# JWT Authentication (本地测试用，生产环境必须更改！)
JWT_SECRET=local-dev-jwt-secret-change-in-production
JWT_EXPIRATION=15m
JWT_REFRESH_SECRET=local-dev-refresh-secret-change-in-production
JWT_REFRESH_EXPIRATION=7d

# SIWE (Sign-In with Ethereum)
SIWE_DOMAIN=localhost
SIWE_URI=http://localhost:3000

# Admin authentication token (本地测试用)
ADMIN_TOKEN=demo-admin-token-12345

# File storage
SIGNATURE_STORAGE_DIR=uploads/signatures

# CORS (本地开发允许所有来源)
CORS_ORIGIN=*

# Uploads volume path
UPLOADS_PATH=./docker-volumes/uploads

# ============================================
# Web Service (Next.js User Frontend)
# ============================================
WEB_PORT=3000

# API endpoint (通过 nginx 反向代理，同域访问)
NEXT_PUBLIC_API_BASE=/api

# WalletConnect/Reown AppKit Project ID
# ⚠️ 必须设置！从 https://cloud.reown.com/ 获取
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID=YOUR_PROJECT_ID_HERE

# Blockchain configuration (BSC Testnet)
NEXT_PUBLIC_CHAIN_ID=97
NEXT_PUBLIC_CHAIN_NAME=BSC Testnet

# App metadata
NEXT_PUBLIC_APP_NAME=Cohe Capital
NEXT_PUBLIC_APP_DESCRIPTION=Web3 Insurance Platform

# ============================================
# Admin Service (Next.js Admin Panel)
# ============================================
ADMIN_PORT=3002

# API endpoint (通过 nginx 反向代理)
NEXT_PUBLIC_ADMIN_API_BASE=/api

# ============================================
# Nginx Reverse Proxy
# ============================================
NGINX_HTTP_PORT=80

# ============================================
# Blockchain RPC & Treasury
# ============================================
RPC_BSC=https://bsc-dataseed.binance.org/
TREASURY_ADDRESS=0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199
